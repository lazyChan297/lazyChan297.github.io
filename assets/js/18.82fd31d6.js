(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{372:function(v,_,l){"use strict";l.r(_);var o=l(45),i=Object(o.a)({},(function(){var v=this,_=v.$createElement,l=v._self._c||_;return l("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[l("h1",{attrs:{id:"http报文"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#http报文"}},[v._v("#")]),v._v(" HTTP报文")]),v._v(" "),l("ul",[l("li",[l("p",[l("strong",[v._v("请求报文")])]),v._v(" "),l("ul",[l("li",[l("strong",[v._v("请求行")]),v._v(" 请求方法 URL字段 HTTP协议版本 例如 "),l("code",[v._v("Get /api/userInfo HTTP/1.1")])]),v._v(" "),l("li",[l("strong",[v._v("请求头")]),v._v(" "),l("ul",[l("li",[v._v("涉及数据类型\n"),l("ul",[l("li",[l("code",[v._v("Accept")]),v._v(" 浏览器可接受的响应体数据类型，例如请求css文件添加"),l("code",[v._v("text/css")]),v._v("，请求json数据的接口设置"),l("code",[v._v("application/json")])]),v._v(" "),l("li",[l("code",[v._v("Accept-encoding")]),v._v(" 浏览器能够解码的编码方式，例如使用了压缩后的js或css代码，那么要给该请求头添加"),l("code",[v._v("gzip")])])])]),v._v(" "),l("li",[v._v("涉及跨域\n"),l("ul",[l("li",[l("code",[v._v("Origin")]),v._v(" 告知服务器发起请求的url")]),v._v(" "),l("li",[l("code",[v._v("access-control-request-method")]),v._v(" 浏览器发起预检请求时，该请求头的值是要跨域访问的请求方法")]),v._v(" "),l("li",[l("code",[v._v("Access-Control-Request-Headers")]),v._v(" 需要额外发送的请求头，因为CORS跨域对请求头设置的限制")])])]),v._v(" "),l("li",[v._v("涉及用户信息验证\n"),l("ul",[l("li",[l("code",[v._v("Cookie")]),v._v(" 验证发起请求的用户信息，如果有服务器有设置，不做其它处理的话，Cookie会自动携带到请求头中")])])]),v._v(" "),l("li",[v._v("涉及缓存\n"),l("ul",[l("li",[l("code",[v._v("if-none-match")]),v._v(" 如果请求的资源中有返回"),l("code",[v._v("Etag")]),v._v("响应头 下一次发起请求会自动携带该请求头用于判断缓存是否有效")]),v._v(" "),l("li",[l("code",[v._v("if-modified-since")]),v._v(" 如果请求的资源中有返回"),l("code",[v._v("last-modified")]),v._v("响应头 下一次发起请求会自动携带该请求头用于判断缓存是否有效")])])])])]),v._v(" "),l("li",[l("strong",[v._v("请求数据")]),v._v(" 如果是GET请求，不会有请求数据，或者会把请求数据放在请求行中")])])]),v._v(" "),l("li",[l("p",[l("strong",[v._v("响应报文")])]),v._v(" "),l("ul",[l("li",[l("strong",[v._v("响应行")]),v._v(" 由HTTP协议版本 状态码组成")]),v._v(" "),l("li",[l("strong",[v._v("响应头")]),v._v(" "),l("ul",[l("li",[v._v("涉及数据类型\n"),l("ul",[l("li",[l("code",[v._v("content-type")]),v._v(" 响应类型")]),v._v(" "),l("li",[l("code",[v._v("content-length")]),v._v(" 响应内容长度")])])]),v._v(" "),l("li",[v._v("涉及跨域\n"),l("ul",[l("li",[l("code",[v._v("access-control-allow-credentials")]),v._v(" 是否运行请求携带cookie")]),v._v(" "),l("li",[l("code",[v._v("access-control-allow-origin")]),v._v(" 允许发起跨域请求的url")]),v._v(" "),l("li",[l("code",[v._v("Access-Control-Request-Headers")]),v._v(" 允许额外设置的请求头")]),v._v(" "),l("li",[l("code",[v._v("Access-Control-Request-Method")]),v._v(" 允许跨域的请求方法")])])]),v._v(" "),l("li",[v._v("涉及用户信息验证\n"),l("ul",[l("li",[l("code",[v._v("Set-cookie")]),v._v(" 设置后，默认情况下浏览器下次发起请求就会在响应头中自动携带cookie")])])]),v._v(" "),l("li",[v._v("涉及缓存\n"),l("ul",[l("li",[l("code",[v._v("expires")]),v._v(" 资源过期时间")]),v._v(" "),l("li",[l("code",[v._v("cache-control")]),v._v(" 控制缓存的方式")]),v._v(" "),l("li",[l("code",[v._v("Last-Modified")]),v._v(" 最后一次在服务器修改的时间")]),v._v(" "),l("li",[l("code",[v._v("Etag")]),v._v(" 根据服务器资源内容生成的hash值")])])]),v._v(" "),l("li",[v._v("涉及安全\n"),l("ul",[l("li",[l("code",[v._v("content-security-policy")]),v._v(" 设置可靠的资源（外部脚本、样式表、图片等等）加载，防止xss攻击")])])])])]),v._v(" "),l("li",[l("strong",[v._v("响应体")]),v._v(" 返回给客户端的响应数据")])])]),v._v(" "),l("li",[l("p",[l("strong",[v._v("常见状态码")])]),v._v(" "),l("ul",[l("li",[v._v("1xx 请求已经被接受，需要客户端继续处理")]),v._v(" "),l("li",[v._v("2xx 请求成功\n"),l("ul",[l("li",[v._v("200 请求已成功，资源返回")]),v._v(" "),l("li",[v._v("204 请求已成功，但是没有资源返回通常用于put请求")]),v._v(" "),l("li",[v._v("206 请求已成功，并且响应主体包含所请求的数据区间，该数据区间是在请求头的 Range 首部指定的")])])]),v._v(" "),l("li",[v._v("3xx 重定向到另一个资源\n"),l("ul",[l("li",[v._v("301 请求资源被永久的转移到location字段的url上，浏览器会自动向location的url重新发起请求，"),l("strong",[v._v("如果请求方法是get以外的，那么重定向后的请求方法和消息主体是不可预测的，因为有一些客户端会错误地将请求修改为"),l("code",[v._v("get")]),v._v("方法，解决方法是用308代替301")])]),v._v(" "),l("li",[v._v("302 请求资源被临时移动到location字段的url上，浏览器会自动向location的url重新发起请求，"),l("strong",[v._v("如果请求方法是get以外的，那么重定向后的请求方法和消息主体是不可预测的，因为有一些客户端会错误地将请求修改为"),l("code",[v._v("get")]),v._v("方法，解决方法是用307代替302")])]),v._v(" "),l("li",[v._v("303 服务器已经执行 但响应主体不随本次请求返回 客户端需要向响应头的location字段值重新发起get请求")]),v._v(" "),l("li",[v._v("307 请求资源临时移动到了响应头的Location字段中，"),l("strong",[v._v("浏览器接受到307状态码后会自动向Location的值再次发起请求，307状态码可以确保请求方法和消息主体不会发生变化")])]),v._v(" "),l("li",[v._v("308 和307作用一致，区别是请求资源被永久的转移")]),v._v(" "),l("li",[v._v("304 用户请求的资源没有变更，告知客户端继续使用原来的资源")])])]),v._v(" "),l("li",[v._v("4xx 客户端错误\n"),l("ul",[l("li",[v._v("400 请求方法错误")]),v._v(" "),l("li",[v._v("401 用户未经授权")]),v._v(" "),l("li",[v._v("403 禁止访问")]),v._v(" "),l("li",[v._v("404 访问资源不存在")])])]),v._v(" "),l("li",[v._v("5xx 服务端错误\n"),l("ul",[l("li",[v._v("500 服务器报错")]),v._v(" "),l("li",[v._v("502 服务器作为网关或代理，从上游服务器收到无效响应")]),v._v(" "),l("li",[v._v("503 服务器目前无法使用")]),v._v(" "),l("li",[v._v("504 服务器作为网关或代理，但是没有及时从上游服务器收到请求")]),v._v(" "),l("li",[v._v("505 服务器不支持请求中所用的 HTTP 协议版本")])])])])])])])}),[],!1,null,null,null);_.default=i.exports}}]);